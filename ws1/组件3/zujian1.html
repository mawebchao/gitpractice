<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>
<body>
    <div id="app">
        <h1>{{msg}}</h1>
        <mainh @par="myfn">
            <template v-slot:after="prop">
                <!-- v-slot:after="prop"（固定格式） -->
                <h1 >我想直接用{{prop.title}}</h1>
            </template>
            <template v-slot:before>
                <h2 >我发奖金了</h2>
            </template>
            <p>我好难过呀</p>
        </mainh>
    </div>
    <script>
        //组件的配置选项
        //组件标签中的所有内容，都会渲染到组件的slot中
        //插槽的定义结构：<slot name=""></slot>
        //v-slot:name可以缩写为#name
        var sel={
            template:`<select><option>{{msg}}</option><option>{{msg}}</option></select>`,
            data(){return {msg:"我是尾下拉框"}}
        }
        var mainh={
            template:`<div><h1 @click="fn">{{msg}}</h1><slot></slot><slot name="before"></slot><slot name="after" v-bind:title="title"></slot><sel ></sel></div>`,
            //v-bind:自定义的属性名="该组件自己拥有的变量"
            data(){return {msg:"我是内容",title:"我是main组件中的数据"}},
            components:{sel},
            methods:{
                fn(){
                    this.$emit("par",this.msg)
                }
            }
        }
        new Vue({
            el:"#app",
            data:{
                msg:"吼吼吼"
            },
            components:{
                mainh
            },
            methods:{
                myfn(payload){
                    this.msg=payload;
                }
            }
        })
    </script>
</body>
</html>